{"version":3,"sources":["components/Navbar.js","pages/Home.js","pages/DineIn.js","components/Wheel.js","components/WinnerModal.js","pages/CarryOut.js","App.js","index.js"],"names":["Navbar","bg","variant","expand","to","NavbarBrand","src","width","height","className","alt","NavbarToggle","aria-controls","NavbarCollapse","id","Nav","Link","Home","DineIn","Wheel","state","wheel","spinning","onSpinEnd","selectedSegment","props","resetWheel","draw","drawColourTriangle","spinWheel","animation","spins","Math","random","setState","startAnimation","stopAnimation","rotationAngle","ctx","canvas","getContext","scaleFactor","strokeStyle","fillStyle","lineWidth","beginPath","moveTo","lineTo","stroke","fill","segments","this","window","Winwheel","canvasId","responsive","drawText","numSegments","length","pins","type","callbackFinished","callbackAfter","clearTheCanvas","setTimeout","size","min","innerWidth","innerHeight","Col","Row","noGutters","data-responsiveScaleHeight","Button","disabled","onClick","Component","WinnerModal","onHide","show","winner","query","location","replace","Modal","aria-labelledby","centered","ModalHeader","closeButton","ModalTitle","name","ModalBody","Container","Image","rounded","target","rel","href","CarryOut","React","useState","modalShow","setModalShow","setWinner","restaurants","filter","entry","map","restaurant","bgColor","text","textFillStyle","fontColor","textFontSize","textOrientation","data","segment","App","path","component","from","ReactDOM","render","document","getElementById"],"mappings":"+vCAMe,SAASA,IACtB,OACE,kBAAC,IAAD,CAAUC,GAAG,UAAUC,QAAQ,OAAOC,OAAO,MAC3C,kBAAC,gBAAD,CAAeC,GAAG,QAChB,kBAACC,EAAA,EAAD,KACE,yBACEC,IAAI,sBACJC,MAAM,KACNC,OAAO,KACPC,UAAU,gCACVC,IAAI,yBANR,cAWF,kBAACC,EAAA,EAAD,CAAcC,gBAAc,qBAC5B,kBAACC,EAAA,EAAD,CAAgBC,GAAG,oBACjB,kBAACC,EAAA,EAAD,CAAKN,UAAU,WACb,kBAAC,gBAAD,CAAeL,GAAG,UAChB,kBAACW,EAAA,EAAIC,KAAL,iBAEF,kBAAC,gBAAD,CAAeZ,GAAG,YAChB,kBAACW,EAAA,EAAIC,KAAL,sBCzBL,SAASC,IACd,OACE,oCACE,kBAAC,EAAD,MACA,sC,oBCJS,SAASC,IACtB,OACE,oCACE,kBAAC,EAAD,MACA,wC,oECJOC,EAAb,4MACEC,MAAQ,CAAEC,MAAO,KAAMC,UAAU,GADnC,EAqCEC,UAAY,SAACC,GACP,EAAKC,MAAMF,WAAW,EAAKE,MAAMF,UAAUC,GAC/C,EAAKE,aACL,EAAKN,MAAMC,MAAMM,OACjB,EAAKC,sBAzCT,EA4CEC,UAAY,WACV,IAAIR,EAAQ,EAAKD,MAAMC,MACvBA,EAAMS,UAAUC,MAAQ,EAAI,EAAIC,KAAKC,SAErC,EAAKC,SAAS,CAAEb,QAAOC,UAAU,IAAQ,kBACvC,EAAKF,MAAMC,MAAMc,qBAjDvB,EAqDET,WAAa,WACX,EAAKN,MAAMC,MAAMe,eAAc,GAC/B,IAAIf,EAAQ,EAAKD,MAAMC,MACvBA,EAAMgB,cAAgBhB,EAAMgB,cAAgB,IAC5C,EAAKH,SAAS,CAAEb,QAAOC,UAAU,IAAS,WACxC,EAAKF,MAAMC,MAAMM,OACjB,EAAKC,yBA3DX,EA+DEA,mBAAqB,WAGnB,IAAIU,EAAM,EAAKlB,MAAMC,MAAMkB,OAAOC,WAAW,MACzCC,EAAc,EAAKrB,MAAMC,MAAMoB,YAEnCH,EAAII,YAAc,QAClBJ,EAAIK,UAAY,MAChBL,EAAIM,UAAY,EAChB,IAAIrC,EAAQ+B,EAAIC,OAAOhC,MAAQ,EAC3BC,EAA8B,IAApB8B,EAAIC,OAAO/B,OAAiB,EAC1C8B,EAAIO,YACJP,EAAIQ,OAAOvC,EAAQC,EAASiC,EAAc,IAAM,GAChDH,EAAIS,OAAOxC,EAAQC,EAASiC,EAAc,IAAM,GAChDH,EAAIS,OAAOxC,EAAOC,EAASiC,GAC3BH,EAAIS,OAAOxC,EAAQC,EAASiC,EAAc,IAAM,GAChDH,EAAIU,SACJV,EAAIW,QAhFR,kEAGuB,IAAD,OACVC,EAAaC,KAAK1B,MAAlByB,SACR,GAAwB,MAApBC,KAAK/B,MAAMC,MAAe,CAC5B,IAAIA,EAAQ,IAAI+B,OAAOC,SAAS,CAC9BC,SAAU,cACVC,YAAY,EACZC,UAAU,EACVC,YAAaP,EAASQ,OACtBR,SAAUA,EACVS,MAAM,EACN7B,UAAW,CACT8B,KAAM,aACNC,iBAAkBV,KAAK5B,UACvBuC,cAAeX,KAAKvB,oBAEtBmC,gBAAgB,IAGlBZ,KAAKjB,SACH,CACEb,UAEF,WACE,EAAKD,MAAMC,MAAMM,OACjBqC,WAAW,EAAKpC,mBAAoB,SA3B9C,6CAkCIuB,KAAK/B,MAAMC,MAAMe,eAAc,KAlCnC,+BAoFQe,KAAK/B,MAAMC,OAAO8B,KAAKvB,qBAC3B,IAAIqC,EAAOjC,KAAKkC,IAAwB,IAApBd,OAAOe,WAAmBf,OAAOgB,YAAa,KAClE,OACE,kBAACC,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,CAAK7D,UAAU,8BAA8B8D,WAAS,GACpD,4BACEzD,GAAG,cACH0D,6BAA2B,OAC3BjE,MAAO0D,EACPzD,OAAQyD,KAGZ,kBAACK,EAAA,EAAD,CAAK7D,UAAU,0BACb,kBAACgE,EAAA,EAAD,CAAQC,SAAUvB,KAAK/B,MAAME,SAAUqD,QAASxB,KAAKtB,WAArD,iBAjGV,GAA2B+C,a,gDCSZ,SAASC,EAAT,GAAgD,IAAzBC,EAAwB,EAAxBA,OAAQC,EAAgB,EAAhBA,KAAMC,EAAU,EAAVA,OAClD,IAAKA,EAAQ,OAAO,KACpB,IACIC,EAAK,yCAAqCD,EAAOE,SAClDC,QAAQ,IAAK,KACbA,QAAQ,IAAK,QAChB,OACE,kBAACC,EAAA,EAAD,CACEL,KAAMA,EACNd,KAAK,KACLa,OAAQA,EACRO,kBAAgB,gCAChBC,UAAQ,GAER,kBAACC,EAAA,EAAD,CAAaC,aAAW,EAACV,OAAQA,GAC/B,kBAACW,EAAA,EAAD,CAAY3E,GAAG,iCACZkE,EAAOU,KADV,iBAIF,kBAACC,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,KACE,kBAACvB,EAAA,EAAD,CAAK5D,UAAU,mCACb,kBAACoF,EAAA,EAAD,CACEvF,IAAI,kCACJwF,SAAO,EACPrF,UAAU,4BAEZ,wBAAIA,UAAU,QAAQuE,EAAOU,MAC7B,uBAAGK,OAAO,SAASC,IAAI,sBAAsBC,KA1B5C,0CA0ByDhB,GACxD,kBAACR,EAAA,EAAD,4B,YCdC,SAASyB,IAAY,IAAD,EACCC,IAAMC,UAAS,GADhB,mBAC1BC,EAD0B,KACfC,EADe,OAELH,IAAMC,SAAS,MAFV,mBAE1BpB,EAF0B,KAElBuB,EAFkB,KAGjC,OACE,oCACE,kBAAC,EAAD,MACA,kBAAC,EAAD,CACErD,SApBCsD,EACJC,QAAO,SAACC,GAAD,MAA0B,aAAfA,EAAM9C,QACxB+C,KAAI,SAACC,GAAD,MAAiB,CACpBjE,UAAWiE,EAAWC,QACtBC,KAAMF,EAAWlB,KACjBqB,cAAeH,EAAWI,UAC1BC,cAdeH,EAcWF,EAAWlB,KAbrCoB,EAAKpD,OAAS,GAAW,GACzBoD,EAAKpD,OAAS,GAAW,GACzBoD,EAAKpD,OAAS,GAAW,GACtB,IAWHd,UAAW,EACXsE,gBAAiB,aACjBC,KAAMP,GAjBZ,IAAqBE,KA6BbvF,UAAW,SAAC6F,GACVb,EAAUa,EAAQD,MAClBb,GAAa,MAGjB,kBAACzB,EAAD,CACEE,KAAMsB,EACNvB,OAAQ,kBAAMwB,GAAa,IAC3BtB,OAAQA,KCxBDqC,MAbf,WACE,OACE,kBAAC,gBAAD,KACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOC,KAAK,kBAAkBC,UAAWtG,IACzC,kBAAC,IAAD,CAAOqG,KAAK,oBAAoBC,UAAWrG,IAC3C,kBAAC,IAAD,CAAOoG,KAAK,sBAAsBC,UAAWrB,IAC7C,kBAAC,IAAD,CAAUsB,KAAK,IAAIpH,GAAG,uB,MCR9BqH,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,W","file":"static/js/main.6ce5a5a1.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { Navbar as BSNavbar, Nav, NavbarBrand } from \"react-bootstrap\";\r\nimport { LinkContainer } from \"react-router-bootstrap\";\r\nimport NavbarToggle from \"react-bootstrap/NavbarToggle\";\r\nimport NavbarCollapse from \"react-bootstrap/NavbarCollapse\";\r\n\r\nexport default function Navbar() {\r\n  return (\r\n    <BSNavbar bg=\"primary\" variant=\"dark\" expand=\"lg\">\r\n      <LinkContainer to=\"home\">\r\n        <NavbarBrand>\r\n          <img\r\n            src=\"./MealWheelLogo.png\"\r\n            width=\"30\"\r\n            height=\"30\"\r\n            className=\"d-inline-block align-top mr-2\"\r\n            alt=\"React Bootstrap logo\"\r\n          />\r\n          MealWheel\r\n        </NavbarBrand>\r\n      </LinkContainer>\r\n      <NavbarToggle aria-controls=\"basic-navbar-nav\" />\r\n      <NavbarCollapse id=\"basic-navbar-nav\">\r\n        <Nav className=\"mr-auto\">\r\n          <LinkContainer to=\"dinein\">\r\n            <Nav.Link>Dine In</Nav.Link>\r\n          </LinkContainer>\r\n          <LinkContainer to=\"carryout\">\r\n            <Nav.Link>Carry Out</Nav.Link>\r\n          </LinkContainer>\r\n        </Nav>\r\n      </NavbarCollapse>\r\n    </BSNavbar>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport Navbar from \"../components/Navbar\";\r\n\r\nexport function Home() {\r\n  return (\r\n    <>\r\n      <Navbar />\r\n      <div>Home</div>\r\n    </>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport Navbar from \"../components/Navbar\";\r\n\r\nexport default function DineIn() {\r\n  return (\r\n    <>\r\n      <Navbar />\r\n      <div>DineIn</div>\r\n    </>\r\n  );\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { Col, Row, Button } from \"react-bootstrap\";\r\n\r\nexport class Wheel extends Component {\r\n  state = { wheel: null, spinning: false };\r\n\r\n  componentDidMount() {\r\n    const { segments } = this.props;\r\n    if (this.state.wheel == null) {\r\n      let wheel = new window.Winwheel({\r\n        canvasId: \"wheelCanvas\",\r\n        responsive: true,\r\n        drawText: true,\r\n        numSegments: segments.length,\r\n        segments: segments,\r\n        pins: true,\r\n        animation: {\r\n          type: \"spinToStop\",\r\n          callbackFinished: this.onSpinEnd,\r\n          callbackAfter: this.drawColourTriangle,\r\n        },\r\n        clearTheCanvas: false,\r\n      });\r\n\r\n      this.setState(\r\n        {\r\n          wheel,\r\n        },\r\n        () => {\r\n          this.state.wheel.draw();\r\n          setTimeout(this.drawColourTriangle, 1);\r\n        }\r\n      );\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.state.wheel.stopAnimation(false);\r\n  }\r\n\r\n  onSpinEnd = (selectedSegment) => {\r\n    if (this.props.onSpinEnd) this.props.onSpinEnd(selectedSegment);\r\n    this.resetWheel();\r\n    this.state.wheel.draw();\r\n    this.drawColourTriangle();\r\n  };\r\n\r\n  spinWheel = () => {\r\n    let wheel = this.state.wheel;\r\n    wheel.animation.spins = 8 + 1 * Math.random();\r\n\r\n    this.setState({ wheel, spinning: true }, () =>\r\n      this.state.wheel.startAnimation()\r\n    );\r\n  };\r\n\r\n  resetWheel = () => {\r\n    this.state.wheel.stopAnimation(false); // Stop the animation, false as param so does not call callback function.\r\n    let wheel = this.state.wheel;\r\n    wheel.rotationAngle = wheel.rotationAngle % 360; // Re-set the wheel angle to 0 degrees.\r\n    this.setState({ wheel, spinning: false }, () => {\r\n      this.state.wheel.draw();\r\n      this.drawColourTriangle();\r\n    });\r\n  };\r\n\r\n  drawColourTriangle = () => {\r\n    // Get context used by the wheel.\r\n    // let ctx = this.state.wheel.ctx;\r\n    let ctx = this.state.wheel.canvas.getContext(\"2d\");\r\n    let scaleFactor = this.state.wheel.scaleFactor;\r\n\r\n    ctx.strokeStyle = \"black\"; // Set line colour.\r\n    ctx.fillStyle = \"red\"; // Set fill colour.\r\n    ctx.lineWidth = 3;\r\n    let width = ctx.canvas.width / 2;\r\n    let height = (ctx.canvas.height * 0.05) / 2;\r\n    ctx.beginPath(); // Begin path.\r\n    ctx.moveTo(width - height * scaleFactor * 0.25, 1); // Move to initial position.\r\n    ctx.lineTo(width + height * scaleFactor * 0.25, 1); // Draw lines to make the shape.\r\n    ctx.lineTo(width, height * scaleFactor);\r\n    ctx.lineTo(width - height * scaleFactor * 0.25, 1);\r\n    ctx.stroke(); // Complete the path by stroking (draw lines).\r\n    ctx.fill(); // Then fill.\r\n  };\r\n\r\n  render() {\r\n    if (this.state.wheel) this.drawColourTriangle();\r\n    let size = Math.min(window.innerWidth * 0.98, window.innerHeight, 500);\r\n    return (\r\n      <Col>\r\n        <Row className=\"justify-content-center py-4\" noGutters>\r\n          <canvas\r\n            id=\"wheelCanvas\"\r\n            data-responsiveScaleHeight=\"true\" /* Optional Parameters */\r\n            width={size}\r\n            height={size}\r\n          />\r\n        </Row>\r\n        <Row className=\"justify-content-around\">\r\n          <Button disabled={this.state.spinning} onClick={this.spinWheel}>\r\n            Spin Me\r\n          </Button>\r\n        </Row>\r\n      </Col>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport {\r\n  Modal,\r\n  Button,\r\n  ModalTitle,\r\n  ModalBody,\r\n  Col,\r\n  Container,\r\n  Image,\r\n} from \"react-bootstrap\";\r\nimport ModalHeader from \"react-bootstrap/ModalHeader\";\r\n\r\nexport default function WinnerModal({ onHide, show, winner }) {\r\n  if (!winner) return null;\r\n  let link = \"https://www.google.com/maps/dir/?api=1&\";\r\n  let query = `travelmode=driving&destination=${winner.location\r\n    .replace(\" \", \"+\")\r\n    .replace(\",\", \"%2C\")}`;\r\n  return (\r\n    <Modal\r\n      show={show}\r\n      size=\"lg\"\r\n      onHide={onHide}\r\n      aria-labelledby=\"contained-modal-title-vcenter\"\r\n      centered\r\n    >\r\n      <ModalHeader closeButton onHide={onHide}>\r\n        <ModalTitle id=\"contained-modal-title-vcenter\">\r\n          {winner.name} was Picked!\r\n        </ModalTitle>\r\n      </ModalHeader>\r\n      <ModalBody>\r\n        <Container>\r\n          <Col className=\"justify-content-end text-center\">\r\n            <Image\r\n              src=\"https://via.placeholder.com/350\"\r\n              rounded\r\n              className=\"img-fluid img-thumbnail\"\r\n            />\r\n            <h1 className=\"py-4\">{winner.name}</h1>\r\n            <a target=\"_blank\" rel=\"noopener noreferrer\" href={link + query}>\r\n              <Button>Get Directions</Button>\r\n            </a>\r\n          </Col>\r\n        </Container>\r\n      </ModalBody>\r\n    </Modal>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport Navbar from \"../components/Navbar\";\r\nimport { Wheel } from \"../components/Wheel\";\r\nimport WinnerModal from \"../components/WinnerModal\";\r\nimport restaurants from \"../data/restaurants.json\";\r\n\r\nfunction getFontSize(text) {\r\n  if (text.length < 10) return 22;\r\n  if (text.length < 15) return 20;\r\n  if (text.length < 20) return 18;\r\n  return 16;\r\n}\r\n\r\nfunction getWheelData() {\r\n  return restaurants\r\n    .filter((entry) => entry.type === \"take_out\")\r\n    .map((restaurant) => ({\r\n      fillStyle: restaurant.bgColor,\r\n      text: restaurant.name,\r\n      textFillStyle: restaurant.fontColor,\r\n      textFontSize: getFontSize(restaurant.name),\r\n      lineWidth: 2,\r\n      textOrientation: \"horizontal\",\r\n      data: restaurant,\r\n    }));\r\n}\r\n\r\nexport default function CarryOut() {\r\n  const [modalShow, setModalShow] = React.useState(false);\r\n  const [winner, setWinner] = React.useState(null);\r\n  return (\r\n    <>\r\n      <Navbar />\r\n      <Wheel\r\n        segments={getWheelData()}\r\n        onSpinEnd={(segment) => {\r\n          setWinner(segment.data);\r\n          setModalShow(true);\r\n        }}\r\n      />\r\n      <WinnerModal\r\n        show={modalShow}\r\n        onHide={() => setModalShow(false)}\r\n        winner={winner}\r\n      />\r\n    </>\r\n  );\r\n}\r\n","import React from \"react\";\nimport { Home } from \"./pages/Home\";\nimport { BrowserRouter, Switch, Route, Redirect } from \"react-router-dom\";\nimport DineIn from \"./pages/DineIn\";\nimport CarryOut from \"./pages/CarryOut\";\n\nfunction App() {\n  return (\n    <BrowserRouter>\n      <Switch>\n        <Route path=\"/MealWheel/home\" component={Home} />\n        <Route path=\"/MealWheel/dinein\" component={DineIn} />\n        <Route path=\"/MealWheel/carryout\" component={CarryOut} />\n        <Redirect from=\"/\" to=\"/MealWheel/home\" />\n      </Switch>\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}